<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Update User</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<style>
@import url(https://fonts.googleapis.com/css?family=Raleway);
h2{
background-color: #FEFFED;
padding: 30px 35px;
margin: -10px -50px;
text-align:center;
border-radius: 10px 10px 0 0;
}
hr{
margin: 10px -50px;
border: 0;
border-top: 1px solid #ccc;
margin-bottom: 40px;
}
div.container{
width: 900px;
height: 610px;
margin:35px auto;
font-family: 'Raleway', sans-serif;
}
div.main{
width: 300px;
padding: 10px 50px 10px;
border: 2px solid gray;
border-radius: 10px;
font-family: raleway;
float:left;
margin-top:60px;
}
input[type=text]{
width: 100%;
height: 40px;
padding: 5px;
margin-bottom: 25px;
margin-top: 5px;
border: 2px solid #ccc;
color: #4f4f4f;
font-size: 16px;
border-radius: 5px;
}
label{
color: #FFFF00;
text-shadow: 0 1px 0 #fff;
font-size: 14px;
font-weight: bold;
}
#btn_id,#btn_name,#btn_class,#btn_tag{
font-size: 16px;
background: linear-gradient(#ffbc00 5%, #ffdd7f 100%);
border: 1px solid #e5a900;
color: #4E4D4B;
font-weight: bold;
cursor: pointer;
width: 47.5%;
border-radius: 5px;
margin-bottom:10px;
padding: 7px 0;
}
#btn_id:hover,#btn_name:hover,#btn_class:hover,#btn_tag:hover{
background: linear-gradient(#ffdd7f 5%, #ffbc00 100%);
}
#btn_name,#btn_tag{
margin-left: 10px;
}
</style>

</head>
<body>

	
	<script>
	function submit_by_id() {
		if (validation()) // Calling validation function
		{
		document.getElementById("form_id").submit(); //form submission
		}
		}
	
	function validation() {
		var name = document.getElementById("id3").value;
		var email = document.getElementById("id1").value;
		var phone = document.getElementById("id2").value;
		var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
		if (name === '' || email === ''||phone === '') {
		alert("Please fill all fields...!!!!!!");
		return false;
		} else if (!(email).match(emailReg)) {
		alert("Invalid Email...!!!!!!");
		return false;
		} else {
		return true;
		}
		}
	</script>
	<div class="container">
	<h1>Please Update</h1>
<div class="main">
	<form action="rest/update/updateuser" method="post" name="form_name" id="form_id">
		<p>
			E-Mail ID : <input type="text" id="id1" name="email_id" readonly />
		</p>
		<p>
			Phone_no : <input type="text" id="id2" name="phone_no" readonly />
		</p>
		<p>
			Name : <input type="text" id="id3" name="name" />
		</p>
		
		<input type="button" name="submit_id" id="btn_id" value="Update" onclick="submit_by_id()"/>
		
		<!--  <input type="submit"  value="Update" /> -->
	</form>
	</div>
	</div>
	
	<script>
	var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
   var hash=window.location.href.slice(window.location.href.indexOf('?') + 1)
   for(var i = 0; i < hashes.length; i++)
    {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
   var url="http://localhost:8080/ProjectUser/rest/getuser/"+hash[1];
        $.getJSON(url, function (data) {
        	document.getElementById("id1").value = data.email_id;
        	   document.getElementById("id2").value = data.phone_no;
        	   document.getElementById("id3").value = data.name;
            
        });
	</script>
</body>
</html>